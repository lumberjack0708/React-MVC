# 管理員界面指南

## 概述

本專案現在支援基於用戶角色的完全分離界面。當用戶的 `role_id === 1` 時，將看到專門的管理員界面，與普通用戶界面完全隔離。

## 主要特點

### 1. 角色分離
- **管理員 (role_id === 1)**: 只能訪問管理功能
- **普通用戶 (role_id !== 1)**: 只能訪問購物功能

### 2. 管理員專用功能
- **商品管理**: `/admin/products`
- **訂單管理**: `/admin/orders`

### 3. 自動重定向
- 管理員登入後自動重定向到 `/admin/products`
- 管理員訪問任何非管理路徑都會被自動重定向到管理界面

## 技術實現

### 新增文件
- `front/src/pages/Store/AdminLayout.js` - 管理員專用布局組件

### 修改文件
- `front/src/App.js` - 添加角色檢查和路由分離邏輯

### 主要修改點

#### 1. App.js 中的角色檢查
```javascript
// 如果用戶是管理員 (role_id === 1)，顯示專門的管理界面
if (isLoggedIn && user?.role_id === 1) {
  // 管理員路由和界面
}
```

#### 2. 登入成功處理
```javascript
const handleLoginSuccess = (loginResponse) => {
  if (loginResponse.user?.role_id === 1) {
    navigate('/admin/products'); // 管理員直接跳轉到管理界面
  } else {
    // 普通用戶處理購物車統計
  }
};
```

#### 3. 購物車功能分離
- 管理員不會載入購物車統計
- 購物車定期刷新僅對普通用戶有效

## 界面差異

### 管理員界面特點
- 專用的深色標題列，顯示「寵物商店管理系統」
- 左側導航欄僅包含「商品管理」和「訂單管理」
- 顯示管理員身份和登出按鈕
- 無購物車、個人資料等消費者功能

### 普通用戶界面特點
- 保持原有的購物界面
- 包含首頁、商品瀏覽、購物車、購買紀錄等功能
- 移除了原有的店家管理按鈕

## 使用指南

### 管理員使用
1. 使用 `role_id === 1` 的帳號登入
2. 自動進入管理界面
3. 可在商品管理和訂單管理間切換
4. 點擊登出返回登入頁面

### 普通用戶使用
1. 使用 `role_id !== 1` 的帳號登入
2. 正常使用購物功能
3. 無法訪問管理功能

## 安全考量

1. **路由保護**: 管理員無法訪問普通用戶頁面
2. **功能隔離**: 購物車等功能對管理員完全隔離
3. **自動重定向**: 防止管理員誤入普通用戶界面

## 後續開發建議

1. 可考慮添加儀表板頁面作為管理員首頁
2. 可添加更多管理功能（用戶管理、統計報表等）
3. 可考慮添加權限細分（不同級別的管理員） 